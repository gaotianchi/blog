## 项目背景和目标
为解决客户客户定制化个人博客网站的需求，我们开启了这个项目，具体内容请参考需求概要文档中的项目背景和动机相关部分。
## 范围
- 功能范围：详细内容请参考需求概要文档中的范围与限制相关部分
- 非功能范围：详细内容请参考需求概要文档中的范围与限制相关部分
## 功能需求
### 用户管理
共包括三类用户，分别是博主、订阅者以及匿名访客，他们的特定如下：
- 博主：网站的内容创作者以及各种事务的管理者，其中一项职责就是管理其他类型的用户
- 订阅者：使用邮箱注册订阅者账号的用户，该邮箱被认证为有效
- 访客：未注册的网站浏览者

#### 用户注册
- 编号：UR-001
- 主要参与者：用户（博主或者订阅者）
- 前置条件：暂无
- 后置条件：用户的账户信息被保存
- 触发条件：用户提交账号注册表单
- 涉众及其关注点：
	- 博主想要初始化网站账户
	- 订阅者想创建一个账户以便获取某些权限
	- 系统希望用户填写有效的表单信息
- 主成功情境（MSC）：
	1. 用户访问账户注册页面
	2. 用户填写表单信息并提交
	3. 系统检测表单信息的有效性
	4. 系统提示用户注册成功
	5. 系统重定向到指定页面
- 拓展情况：
	- MSC1 博主已经注册过账户：
		1. 如果博主处于登录状态则直接重定向
	- MSC3 如果博主未登录：
		1. 系统提示用户已经注册
		2. 系统重定向到指定页面

#### 用户登录
- 编号：UR-002
- 主要参与者：用户（博主或者订阅者）
- 前置条件：UR-001
- 后置条件：用户的登录状态被保存的相关位置
- 触发条件：用户提交登录表单
- 涉众及其关注点：
	- 博主想要登录账号以便管理网站内容
	- 订阅者想要获取类似于发表评论之类的权限
	- 系统希望用户填写有效的表单信息
- 主成功情境：类似于 UR-002
- 拓展情境：
	- MSC1 用户已经登录：
		1. 系统提示用户已经登录成功
		2. 系统直接重定向到指定页面

#### 权限管理
- 编号：UR-003
- 主要参与者：系统
- 前置条件：UR-001
- 后置条件：确保用户信息不被其他用户恶意篡改
- 触发条件：暂无
- 涉众及其关注点：
	- 系统要确保博主的创作内容以及网站的环境不会被恶意订阅者或者访客破坏
	- 博主希望能够锁定或者注销恶意订阅者的账号
	- 高权限者不希望自己的信息被低权限者恶意篡改
- 主成功情境：
	1. 用户登录账号
	2. 系统根据权限配置信息为不同类型的用户设置不同的权限
- 拓展情境：暂无

#### 状态管理
- 编号：UR-004
- 主要参与者：系统
- 前置条件：
	- UR-002
	- UR-003
- 后置条件：用户可以适时地使用自己的权限
- 触发条件：暂无
- 涉众及其关注点：
	- 用户希望自己在使用自己的权限的时候不受影响
	- 系统希望提供给不同用户不同的界面
- 主成功情境：
	- 用户登录账号
	- 系统为不同的用户提供不同的界面
- 拓展情境：暂无

#### 管理用户
- 编号：UR-005
- 主要参与者：博主
- 前置条件：UR-002
- 后置条件：订阅用户的状态发生变化
- 触发条件：博主点击相关操作按钮
- 涉众及其关注点：
	- 博主希望能够快速便捷的锁定发表恶意评论的订阅用户
- 主成功情境：
	1. 博主访问订阅用户管理页面
	2. 博主锁定指定用户
	3. 系统更新相关订阅者的账户信息
	4. 系统发送相关邮件提醒被锁定的用户
	5. 系统提示博主操作成功
- 拓展情境：暂无

#### 更新用户信息
- 编号：UR-006
- 主要参与者：用户
- 前置条件：
	- UR-001
	- UR-002
- 后置条件：用户的账户信息发生变动
- 触发条件：用户提交账户信息更新表单或者用户的某些账户信息超过临界条件
- 涉众及其关注点：
	- 博主希望能够在一个界面统一管理自己的账户信息以及博客网站的信息
	- 订阅者希望自己的积分能够及时自动更新
- 主成功情境：
	1. 用户访问账户信息更新界面
	2. 用户更新自己的账户信息并提交表单
	3. 系统更新对应用户的账户信息
	4. 系统提示用户账户信息更新成功
- 拓展情境：
	- 更新绑定邮箱
	- 更新密码


### 内容管理

#### 创建草稿
- 编号：UR-007
- 主要参与者：博主
- 前置条件：UR-002
- 后置条件：一篇包含默认数值的文章被创建并保存至草稿
- 触发条件：博主点击创建草稿的按钮
- 涉众及其关注点：
	- 博主希望快速创建一个草稿
- 主成功情境：
	1. 博主点击创建草稿的按钮
	2. 系统创建一个保存默认数据的草稿
	3. 系统重定向到草稿/文章编辑页面
- 拓展情境：暂无
#### 编辑草稿/文章
- 编号：UR-008
- 主要参与者：博主
- 前置条件：UR-007
- 后置条件：文章数据被更新
- 触发条件：系统自动检测文章内容的变动并自动保存
- 涉众及其关注点：
	- 博主希望自己编辑的内容能够及时地自动保存以防止数据丢失
- 主成功情境：
	1. 博主访问草稿/文章编辑页面
	2. 博主编辑文章的各个字段的信息
	3. 系统自动保存发生实时数据
- 拓展情境：
	- 博主在文章自动保存之前想要退出该界面：
		1. 系统显示提示框，提示博主还有信息没有保存
		2. 博主点击确认按钮
		3. 系统保存相关数据
#### 发布文章/将文章还原为草稿
- 编号：UR-009
- 主要参与者：博主
- 前置条件：UR-008
- 后置条件：文章的状态发生变化
- 触发条件：博主点击相关按钮
- 涉众及其关注点：
	- 博主希望快捷的发布文章或者将已经发布的文章转化为草稿
- 主成功情境：
	1. 博主找到发布/还原按钮并点击
	2. 系统更新草稿/文章状态
	3. 系统提示博主操作成功
- 拓展情境：暂无
#### 创建标签
- 编号：UR-010
- 主要参与者：博主
- 前置条件：UR-007
- 后置条件：创建新的标签
- 触发条件：博主在输入框输入标签名称并按回车键
- 涉众及其关注点：
	- 博主希望能够快捷的创建标签以便更方便的组织文章
	- 系统希望用户输入的标签符合既定的规范
- 主成功情境：
	- 博主在输入框输入标签并点击回车键
	- 系统识别并创建需要创建的标签
- 拓展情境：
	- 博主输入的标签不符合规范
		1. 系统给出响应反馈提示用户输入有效的标签信息
#### 管理标签
- 编号：UR-011
- 主要参与者：博主
- 前置条件：UR-010
- 后置条件：标签的数量或者内容发生变化
- 触发条件：博主点击相关按钮
- 涉众及其关注点：
	- 博主希望在某个页面统一管理站点的所有标签
- 主成功情境：
	1. 博主访问标签管理页面
	2. 博主点击某个标签的删除或者编辑按钮
	3. 系统删除或者更新选定的标签
	4. 系统提示用户操作成功
- 拓展情境：
	- 被删除的标签下的文章数量大于 0：
		1. 系统提示用户该标签即将删除但不会删除标签下的文章
		2. 系统移除该标签
		3. 系统提示用户操作成功
#### 创建/编辑/删除文章合集
- 编号：UR-012
- 主要参与者：博主
- 前置条件：UR-002
- 后置条件：文章合集的数量或者内容发生变化
- 触发条件：博主提交创建/编辑文章合集的表单
- 涉众及其关注点：
	- 博主希望能够快捷的创建/编辑文章系列
	- 系统希望博主填写有效的文章合集表单信息
- 主成功情境：
	1. 博主填写文章合集表单信息并提交
	2. 系统检测表单数据的有效性
	3. 系统创建或者更新指定文章合集
	4. 系统提示用户操作成功
- 拓展情境：
	- 表单信息的必填项为空：
		- 系统提示用户某字段不能为空
		- 进入 MSC1
	- 删除合集：
		- 博主点击删除按钮
		- 系统提示该合集将会被删除但合集下的文章不受影响
		- 系统将该合集删除
		- 系统提示用户操作成功
#### 管理文章合集
- 编号：UR-013
- 主要参与者：博主
- 前置条件：UR-012
- 后置条件：文章合集的数量或内容发生变化
- 触发条件：博主点击相关按钮
- 涉众及其关注点：
	- 博主希望在一个页面统一管理所有文章合集
	- 博主希望快捷的将文章从文章合集中添加/移除
- 主成功情境：
	1. 用户范围合集管理页面
	2. 系统呈现所有合集以及合集下的文章
	3. 用户通过点击移除/添加按钮为指定合集移除/添加文章
	4. 系统提示用户操作成功
- 拓展情境：暂无

#### 管理文章
- 编号：UR-026
- 主要参与者：博主
- 前置条件：
	- UR-002
- 后置条件：文章的数量和状态发生变化
- 触发条件：博主访问文章管理页面
- 涉众及其关注点：
	- 博主希望批量删除、发布、还原文章；

#### 更新文章/草稿标签
- 编号：UR-014
- 主要参与者：用户（博主）
- 前置条件：
	- UR-007
	- UR-010
- 后置条件：文章/草稿的标签信息发生变化
- 触发条件：草稿/文章的自动保存
- 涉众及其关注点：
	- 博主希望能够快捷的为草稿/文章添加/更新标签
	- 系统希望用户输入符合规范的标签信息
- 主成功情境：
	1. 用户在标签栏输入目标标签
	2. 系统自动保存草稿/文章信息
	3. 系统解析出所有标签并更新草稿/文章的标签数据
- 拓展情况：暂无
#### 更新文章/草稿所属合集
- 编号：UR-015
- 主要参与者：用户（博主）
- 前置条件：
	- UR-007
	- UR-012
- 后置条件：文章/草稿所属的合集信息发生变化
- 涉众及其关注点：
	- 用户希望尽可能便捷地为文章/草稿设置所属合集
- 主成功情境：
	1. 在文章/草稿编辑页面用户选择指定的文章合集
	2. 系统更新文章/草稿的合集
	3. 系统提示用户操作成功
- 拓展情况：暂无

### 反馈管理
#### 评论文章
- 编号：UR-016
- 主要参与者：用户（博主和订阅者，主要为订阅者）
- 前置条件：
	- UR-002
	- UR-009
- 后置条件：用户在指定页面下留下自己对于该文章的评论
- 触发条件：用户提交评论表单
- 涉众及其关注点：
	- 用户希望在文章下面留下自己关于这篇文章的看法
	- 系统要求用户必须登录才能评论
- 主成功情境：
	1. 用户访问评论表单并提交自己的评论
	2. 系统检测评论表单信息的有效性
	3. 系统保存该用户的评论信息
	4. 系统提示用户评论成功
	5. 系统在该用户的视角下显示自己的评论但是其他人的视角下不显示这条评论
	6. 等待博主审核该评论
- 拓展情况：
	- 评论表单信息为空：
		- 系统提示表单信息不能为空
		- 用户重新填写表单
	- 用户没有登录：
		- 系统重定向到用户登录页面
		- 用户登录后重定向到原始文章下的评论页面并展示评论表单
#### 喜欢/不喜欢文章
- 编号：UR-017
- 主要参与者：用户（订阅者或者访客）
- 前置条件：
	- UR-002
	- UR-009
- 后置条件：
	- 文章的喜欢/不喜欢数据发生变化
	- 系统弹出评论表单
- 涉众及其关注点：
	- 博主希望尽可能多的收集用户的反馈
	- 订阅者希望能发表自己对这篇文章的态度
- 主成功情境：
	1. 用户点击喜欢/不喜欢按钮
	2. 系统提示用户操作成功并弹出评论界面
	3. 用户可以选填评论
	4. 系统记录用户是否填写评论以便在下次给出合适的反应
	5. 系统记录用户填写的表单数据
	6. 用户提交反馈表单
	7. 系统提示与用户操作成功
- 拓展情境：暂无
#### 回复评论
- 编号：UR-018
- 主要参与者：用户
- 前置条件：
	- UR-002
	- UR-016
- 后置条件：创建一条用于回复其他评论的评论
- 触发条件：提交用于恢复其他评论的表单
- 涉众及其关注点：
	- 用户希望能够回复他人的评论甚至是多级回复
- 主成功情境：
	1. 用户访问并填写回复表单并提交
	2. 系统检验回复表单信息的有效性
	3. 系统保存回复信息
	4. 系统提示用户回复成功
- 拓展情境：
	- MSC2 表单为空：
		1. 系统提示表单信息不能为空
		2. 用户重新输入或者取消评论
	- 回复的是自己的评论：
		1. 自己的评论将排在首行
#### 删除评论
- 编号：UR-019
- 主要参与者：用户
- 前置条件：
	- UR-002
	- UR-016
- 后置条件：用户的评论内容使用预设文本替代，保留用户的态度
- 涉众及其关注点：
	- 用户希望删除自己的评论
	- 系统希望保留评论的基本结构因为该评论下可能存在多条回复
- 主成功情境：
	1. 用户点击删除按钮
	2. 系统提示删除消息
	3. 用户确认后系统将该评论的内容替换为预设文本
	4. 系统提示用户评论删除成功
- 拓展情境：
	- 该评论下没有回复：
		- 系统直接将该用户的评论信息全部从页面上移除
#### 编辑评论
- 编号：UR-020
- 主要参与者：用户
- 前置条件：
	- UR-002
	- UR-016
- 后置条件：用户的评论内容发生变化
- 涉众及其关注点：
	- 用户希望更新自己的评论内容
	- 系统希望存在回复的评论设置为只读模式
- 主成功情境：
	1. 用户点击编辑按钮并填写评论表单然后提交
	2. 系统更新用户的评论信息
	3. 系统提示用户操作成功
- 拓展情境：
	- 该评论下存在回复：
		- 该评论无法编辑
#### 喜欢评论
- 编号：UR-021
- 主要参与者：用户
- 前置条件：
	- UR-002
	- UR-016
- 后置条件：评论的喜欢数量发生变化
- 触发条件：用户点击喜欢按钮
- 涉众及其关注点：
	- 用户希望优质的评论排在前列
- 主成功情境：
	1. 用户点击喜欢按钮
	2. 系统更新该评论的喜欢数量
	3. 系统提示操作成功
- 拓展情境：暂无

#### 管理评论
- 编号：UR-022
- 主要参与者：用户（博主）
- 前置条件：
	- UR-002
	- UR-016
- 后置条件：评论的数量以及评论者的状态发生变化
- 涉众及其关注点：
	- 博主希望屏蔽恶意评论并锁定发表恶意评论的订阅者
	- 博主希望统一管理所有评论
	- 访客希望处在一个文明的阅读环境中
- 主成功情境：
	1. 用户访问评论管理界面
	2. 用户预览需要审阅的评论
	3. 用户标注违规评论
	4. 用户可根据具体情况决定是否屏蔽发送违规评论的订阅用户
	5. 用户可点击回复按钮快捷回复该条评论
- 拓展情境：暂无
#### 统计文章阅读数据
- 编号：UR-023
- 主要参与者：用户（博主、订阅者以及访客）
- 前置条件：UR-009
- 后置条件：系统记录该文章的访问数据
- 触发条件：该页面加载完成
- 主成功情境：
	1. 用户访问某篇文章
	2. 系统标记访问者类型、访问时间等数据
- 拓展情境：暂无

#### 统计网站性能数据
- 编号：UR-027
- 描述：在用户访问各个页面的时候系统收集页面加载时间、图片加载时间等数据；

#### 统计内容创作数据
- 编号：UR-029
- 描述：统计博主创作的文章数量等内容相关数据；

#### 统计反馈数据
- 编号：UR-28
- 描述：统计访客浏览量、浏览时间、评论数量等来自于访客的数据；

#### 更新用户积分
- 编号：UR-024
- 主要参与者：用户
- 前置条件：UR-001
- 后置条件：用户的积分发生变化
- 触发条件：参与网站内容的反馈会影响积分，发表恶意反馈信息也会影响积分

### 其他
#### 页面过渡
- 编号：UR-025
- 描述：页面切换的过程中向用户呈现过渡动画
- 情境：
	- 目标页面是文章详细页：过渡动画采用文章的封面图片
